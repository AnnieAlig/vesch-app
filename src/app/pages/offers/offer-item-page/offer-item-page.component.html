<app-breadcrumbs [currentPage]="offerItem.name" [parentPage]="(config.configData | async)?.navigation?.offers" [subParent]="offerItem?.parent" *ngIf="offerItem?.name"></app-breadcrumbs>
<div class="container-inner" *ngIf="offerItem">
  <div class="row position-relative">
    <div class="col-desktop-1"></div>
    <!-- <h1 class="page__title">{{offerItem.title}}</h1> -->
    <div class="page__brand_text-rotated hidden-mobile">
        <p>{{offerItem.parent}}</p>
    </div>
  </div>

  <div class="row">
    <div class="col-4 col-tablet-2 col-desktop-3">
      <div class="item__img">
        <img src="{{offerItem.photo}}" alt="{{offerItem.name}} photo">
      </div>
    </div>
    <div class="col-4 col-tablet-2 col-desktop-3">
      <div class="item__info">
        <h3 class="item__name">{{offerItem.name}}</h3>
        <p class="item__text h5">
          <span>{{(config.configData | async)?.common_texts?.price}}: </span>
          <span class="item__price">{{offerItem.price}} {{offerItem.currency}}</span>
        </p>
        <div class="item__text"> 
          <p class="h5">{{(config.configData | async)?.common_texts?.quantity}}:</p>
          <div class="quantity-box">
            <i class="ic ic--plus" (click)="changeQuantity('remove')">-</i>
            <div class="number">{{offerItem?.quantity}}</div>
            <i class="ic ic--plus" (click)="changeQuantity('add')">+</i>
          </div>
        </div>
        <button class="item__btn btn btn-primary" (click)="addToCart(offerItem)">{{(config.configData | async)?.common_texts?.add_to_cart}}</button>
        <p class="additional-text">{{(config.configData | async)?.common_texts?.additional_text}}</p>
      </div>
    </div>
  </div>

  <div class="d-flex flex-wrap related-items" *ngIf="offerItem.related">
      <a class="item block-link" *ngFor="let item of offerItem.related; let index = index" [routerLink]="item.link" [ngClass]="{'hidden-tablet': index > 7, 'hidden-mobile': index > 3}">
        <div class="item__img">
          <img src="{{item.photo}}" alt="{{item.name}}">
        </div>
        <h4 class="item__name">{{item.name}}</h4>
      </a>
      <div class="w100">
        <button class="item__btn btn btn-primary" (click)="navigateToParent()">{{offerItem?.to_parent_btn}}</button>
      </div>
  </div>

  <div class="row extra-items" *ngIf="offerItem.extra">
    <div class="d-flex flex-wrap col-4 extra-items-inner">
      <h3 class="w100">{{offerItem.extra.title}}</h3>
      <a class="item block-link" *ngFor="let item of offerItem.extra.items; let index = index" [routerLink]="item.link">
        <div class="item__img">
          <img src="{{item.photo}}" alt="{{item.title}}">
        </div>
        <h4 class="item__name">{{item.title}}</h4>
        <p class="item__subtitle">{{item.subtitle}}</p>
      </a>
    </div>
  </div>

  <div class="decor-bar decor-bar--sm hidden-mobile">
      <div class="col-tablet-3 col-desktop-5"></div>
      <div class="decor decor--full">
          <img src="assets/img/decor.svg">
      </div>
  </div>
  <div class="decor-bar hidden-tablet hidden-mobile">
      <div class="col-4"></div>
      <div class="decor decor--full">
          <img src="assets/img/decor.svg">
      </div>
  </div>
</div>